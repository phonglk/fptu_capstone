@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Administration/Views/Shared/_LayoutAdmin.cshtml";
}

<div class="table-wrapper venues-table section">
    <div class="row-fluid head">
        <div class="span12">
            <h4>Events</h4>
        </div>
    </div>
    <div class="row-fluid filter-block">
        <div class="pull-right">
            
        </div>
    </div>
    <div id="pad-wrapper">
        <div class="row-fluid">
            <div id="ProvinceTable" style="width: 100%; margin: auto;"></div>
        </div>
    </div>
    <!-- end events table -->
</div>
<script>
    $(document).ready(function () {
        var jtable_config = {
            title: 'Danh sách Sự kiện',
            paging: true,
            pageSize: 5,
            sorting: true,
            /*selecting: true,
            multiselect: true,
            selectingCheckboxes:true,*/
            actions: {
                base: {}
            },
            fields: {
                EventId: {
                    key: true,
                    create: false,
                    edit: false,
                    list: false
                },
                EventName: {
                    title: 'Tên sự kiện',
                    validation: [
                        "required"
                    ]
                },
                Artist: {
                    title: 'Nghệ sĩ',
                    validation: ["required"]
                },
                HoldDate: {
                    title: "Ngày tổ chức",
                    validation: ["required"],
                    type: "datetime",
                    displayFormat: "dd/MM/yyyy hh:mm:ss"/*,
                    input: function (data) {
                        var html = "";
                        if (data.record) {
                            html += "<div class='input-append' id='HoldDatePicker'><input value='" + $.format.date($.hik.jtable.prototype._parseDate(data.value), "dd-MM-yyyy hh:mm") + "' class='validate[required]' data-format='dd-MM-yyyy hh:mm' type='text' name='HoldDate' data-toggle='datetimepicker'/><span class='add-on'><i class='icon-calendar'></i></span></div>"
                        } else {
                            html += "<div class='input-append' id='HoldDatePicker'><input class='validate[required]' data-format='dd-MM-yyyy hh:mm' type='text' name='HoldDate' data-toggle='datetimepicker'/><span class='add-on'><i class='icon-calendar'></i></span></div>"
                        }
                        return html;
                    }*/
                },
                CategoryId: {
                    title: "Danh mục",
                    validation: ["required"],
                    options: Url({ Controller: "Category", Action: "GetOptions" })
                },
                VenueId: {
                    title: "Địa điểm",
                    validation: ["required"],
                    options: Url({ Controller: "Venue", Action: "GetOptions" })
                }
            },
            formCreated: function () {
                $("#HoldDatePicker").datetimepicker({ pickSeconds: false, maskInput: false });
                
            }
        }

        $('#ProvinceTable').jtable(dropit.jtInit(jtable_config));
        $('#ProvinceTable').jtable('load');
    });
</script>

@model IEnumerable<DropIt.Models.Event>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@Html.Partial("Partials/RoleTab")
<div class="container" id="content">
    <div id="bord">
        &nbsp;
    </div>

    <div class="row">
        <div class="span3">
            <div class="sidebar-nav">
                @if (!User.Identity.IsAuthenticated)
                {
                    @Html.Partial("Partials/SideBar")
                }
                else
                {
                    if (Session["Role"] != null && Session["Role"].Equals("Sell"))
                    {
                    @Html.Partial("Partials/SideBar_Sell")
                    }
                    else
                    {
                    @Html.Partial("Partials/SideBar_Buy");
                    }
                }
            </div>
        </div>
        <div class="span9">
            <div class="row">
                @*<div class="span9">
                    <form id="" class="form-horizontal row">
                        <div class="control-group">
                            <label class="control-label">Tên sự kiện:</label>
                            <div class="controls">
                                @Model.
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label">Ngày tổ chức:</label>
                            <div class="controls">
                                @Model.HoldDate
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label">Ghi chú:</label>
                            <div class="controls">
                                @Model.Description
                            </div>
                        </div>
                    </form>
                </div>*@
                @{
                    ViewBag.Items = Model;
                    //ViewBag.Items_ExtraTemplate = "Partials/Templates/EventList_Item_Extra_Search";
                    ViewBag.EventListClass = "compact";
                    ViewBag.Paging_TotalRecordCount = ViewBag.TotalCount;
                    try
                    {
                        ViewBag.Paging_StartIndex = Int32.Parse(Request["StartIndex"]);
                    }
                    catch (Exception e) { }
                    ViewBag.Paging_ExtraParameters = String.Format("&query={0}&sortBy={1}",
                        Request["query"],
                        Request["sortBy"]);
                }
                @Html.Partial("Partials/Templates/EventList")
                <div class="pull-right">
                    @Html.Partial("Partials/Templates/Paging")
                </div>
            </div>
        </div>
    </div>
</div>
@*
<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table>
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.EventName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.HoldDate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Description)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Status)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Category.CategoryName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Venue.VenueName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CreatedDate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ModifiedDate)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.EventName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.HoldDate)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Description)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Status)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Category.CategoryName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Venue.VenueName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CreatedDate)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ModifiedDate)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.EventId }) |
            @Html.ActionLink("Details", "Details", new { id=item.EventId }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.EventId })
        </td>
    </tr>
}

</table>*@

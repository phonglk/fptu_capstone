(function(n,t){function yt(t){n.extend(!0,nt,t)}function bi(u,f,e){function ri(n){a?(st(),kt(),ti(),y(n)):ui()}function ui(){ir=f.theme?"ui":"fc",u.addClass("fc"),f.isRTL?u.addClass("fc-rtl"):u.addClass("fc-ltr"),f.theme&&u.addClass("ui-widget"),a=n("<div class='fc-content' style='position:relative'/>").prependTo(u),b=new ki(s,f),k=b.render(),k&&u.prepend(k),pt(f.defaultView),n(window).resize(dt),yt()||vt()}function vt(){setTimeout(function(){!o.start&&yt()&&y()},0)}function fi(){n(window).unbind("resize",dt),b.destroy(),a.remove(),u.removeClass("fc fc-rtl ui-widget")}function g(){return 0!==ft.offsetWidth}function yt(){return 0!==n("body")[0].offsetWidth}function pt(t){if(!o||t!=o.name){p++,rt();var r,i=o;i?((i.beforeHide||ni)(),l(a,a.height()),i.element.hide()):l(a,1),a.css("overflow","hidden"),o=et[t],o?o.element.show():o=et[t]=new h[t](r=ut=n("<div class='fc-view fc-view-"+t+"' style='position:absolute'/>").appendTo(a),s),i&&b.deactivateButton(i.name),b.activateButton(t),y(),a.css("overflow",""),i&&l(a,1),r||(o.afterShow||ni)(),p--}}function y(n){var i,r;g()&&(p++,rt(),lt===t&&st(),i=!1,!o.start||n||o.start>v||v>=o.end?(o.render(v,n||0),ht(!0),i=!0):o.sizeDirty?(o.clearEvents(),ht(),i=!0):o.eventsDirty&&(o.clearEvents(),i=!0),o.sizeDirty=!1,o.eventsDirty=!1,ei(i),ct=u.outerWidth(),b.updateTitle(o.title),r=new Date,r>=o.start&&o.end>r?b.disableButton("today"):b.enableButton("today"),p--,o.trigger("viewDisplay",ft))}function bt(){kt(),g()&&(st(),ht(),rt(),o.clearEvents(),o.renderEvents(at),o.sizeDirty=!1)}function kt(){n.each(et,function(n,t){t.sizeDirty=!0})}function st(){lt=f.contentHeight?f.contentHeight:f.height?f.height-(k?k.height():0)-w(a):Math.round(a.width()/Math.max(f.aspectRatio,.5))}function ht(n){p++,o.setHeight(lt,n),ut&&(ut.css("position","relative"),ut=null),o.setWidth(a.width(),n),p--}function dt(){if(!p)if(o.start){var n=++ii;setTimeout(function(){n==ii&&!p&&g()&&ct!=(ct=u.outerWidth())&&(p++,bt(),o.trigger("windowResize",ft),p--)},200)}else vt()}function ei(n){!f.lazyFetching||rr(o.visStart,o.visEnd)?gt():n&&nt()}function gt(){ur(o.visStart,o.visEnd)}function oi(n){at=n,nt()}function si(n){nt(n)}function nt(n){ti(),g()&&(o.clearEvents(),o.renderEvents(at,n),o.eventsDirty=!1)}function ti(){n.each(et,function(n,t){t.eventsDirty=!0})}function hi(n,i,r){o.select(n,i,r===t?!0:r)}function rt(){o&&o.unselect()}function ci(){y(-1)}function li(){y(1)}function ai(){tt(v,-1),y()}function vi(){tt(v,1),y()}function yi(){v=new Date,y()}function pi(n,t,r){n instanceof Date?v=i(n):wt(v,n,t,r),y()}function wi(n,i,u){n!==t&&tt(v,n),i!==t&&it(v,i),u!==t&&r(v,u),y()}function bi(){return i(v)}function gi(){return o}function nr(n,i){return i===t?f[n]:(("height"==n||"contentHeight"==n||"aspectRatio"==n)&&(f[n]=i,bt()),t)}function tr(n,i){return f[n]?f[n].apply(i||ft,Array.prototype.slice.call(arguments,2)):t}var s=this;s.options=f,s.render=ri,s.destroy=fi,s.refetchEvents=gt,s.reportEvents=oi,s.reportEventChange=si,s.rerenderEvents=nt,s.changeView=pt,s.select=hi,s.unselect=rt,s.prev=ci,s.next=li,s.prevYear=ai,s.nextYear=vi,s.today=yi,s.gotoDate=pi,s.incrementDate=wi,s.formatDate=function(n,t){return c(n,t,f)},s.formatDates=function(n,t,i){return ot(n,t,i,f)},s.getDate=bi,s.getView=gi,s.option=nr,s.trigger=tr,di.call(s,f,e);var b,k,a,ir,o,ct,lt,ut,d,rr=s.isFetchNeeded,ur=s.fetchEvents,ft=u[0],et={},ii=0,p=0,v=new Date,at=[];wt(v,f.year,f.month,f.date),f.droppable&&n(document).bind("dragstart",function(t,i){var u=t.target,e=n(u),r;e.parents(".fc").length||(r=f.dropAccept,(n.isFunction(r)?r.call(u,e):e.is(r))&&(d=u,o.dragStart(d,t,i)))}).bind("dragstop",function(n,t){d&&(o.dragStop(d,n,t),d=null)})}function ki(i,r){function s(){u=r.theme?"ui":"fc";var i=r.header;return i?f=n("<table class='fc-header' style='width:100%'/>").append(n("<tr/>").append(o("left")).append(o("center")).append(o("right"))):t}function c(){f.remove()}function o(t){var f=n("<td class='fc-header-"+t+"'/>"),e=r.header[t];return e&&n.each(e.split(" "),function(t){t>0&&f.append("<span class='fc-header-space'/>");var e;n.each(this.split(","),function(t,o){var c;if("title"==o)f.append("<span class='fc-header-title'><h2>&nbsp;<\/h2><\/span>"),e&&e.addClass(u+"-corner-right"),e=null;else if(i[o]?c=i[o]:h[o]&&(c=function(){s.removeClass(u+"-state-hover"),i.changeView(o)}),c){var l=r.theme?lt(r.buttonIcons,o):null,a=lt(r.buttonText,o),s=n("<span class='fc-button fc-button-"+o+" "+u+"-state-default'>"+(l?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+l+"'/><\/span>":a)+"<\/span>").click(function(){s.hasClass(u+"-state-disabled")||c()}).mousedown(function(){s.not("."+u+"-state-active").not("."+u+"-state-disabled").addClass(u+"-state-down")}).mouseup(function(){s.removeClass(u+"-state-down")}).hover(function(){s.not("."+u+"-state-active").not("."+u+"-state-disabled").addClass(u+"-state-hover")},function(){s.removeClass(u+"-state-hover").removeClass(u+"-state-down")}).appendTo(f);k(s),e||s.addClass(u+"-corner-left"),e=s}}),e&&e.addClass(u+"-corner-right")}),f}function l(n){f.find("h2").html(n)}function a(n){f.find("span.fc-button-"+n).addClass(u+"-state-active")}function v(n){f.find("span.fc-button-"+n).removeClass(u+"-state-active")}function y(n){f.find("span.fc-button-"+n).addClass(u+"-state-disabled")}function p(n){f.find("span.fc-button-"+n).removeClass(u+"-state-disabled")}var e=this,u,f;e.render=s,e.destroy=c,e.updateTitle=l,e.activateButton=a,e.deactivateButton=v,e.disableButton=y,e.enableButton=p,f=n([])}function di(r,u){function st(n,t){return!h||h>n||t>l}function ht(n,t){var u,r,i;for(h=n,l=t,e=[],u=++p,r=s.length,v=r,i=0;r>i;i++)k(s[i],u)}function k(t,i){d(t,function(u){if(i==p){if(u){r.eventDataTransform&&(u=n.map(u,r.eventDataTransform)),t.eventDataTransform&&(u=n.map(u,t.eventDataTransform));for(var f=0;u.length>f;f++)u[f].source=t,c(u[f]);e=e.concat(u)}v--,v||a(e)}})}function d(u,e){for(var c,v=f.sourceFetchers,o,y,s=0;v.length>s;s++){if(c=v[s](u,h,l,e),c===!0)return;if("object"==typeof c)return d(c,e),t}if(o=u.events,o)n.isFunction(o)?(tt(),o(i(h),i(l),function(n){e(n),it()})):n.isArray(o)?e(o):e();else if(y=u.url,y){var k=u.success,nt=u.error,rt=u.complete,a=n.extend({},u.data||{}),p=b(u.startParam,r.startParam),w=b(u.endParam,r.endParam);p&&(a[p]=Math.round(+h/1e3)),w&&(a[w]=Math.round(+l/1e3)),tt(),n.ajax(n.extend({},vi,u,{data:a,success:function(t){t=t||[];var i=g(k,this,arguments);n.isArray(i)&&(t=i),e(t)},error:function(){g(nt,this,arguments),e()},complete:function(){g(rt,this,arguments),it()}}))}else e()}function ct(n){n=nt(n),n&&(v++,k(n,p))}function nt(i){return n.isFunction(i)||n.isArray(i)?i={events:i}:"string"==typeof i&&(i={url:i}),"object"==typeof i?(wt(i),s.push(i),i):t}function lt(t){s=n.grep(s,function(n){return!rt(n,t)}),e=n.grep(e,function(n){return!rt(n.source,t)}),a(e)}function at(n){for(var t,f=e.length,r=bt().defaultEventEnd,o=n.start-n._start,u=n.end?n.end-(n._end||r(n)):0,i=0;f>i;i++)t=e[i],t._id==n._id&&t!=n&&(t.start=new Date(+t.start+o),t.end=n.end?t.end?new Date(+t.end+u):new Date(+r(t)+u):null,t.title=n.title,t.url=n.url,t.allDay=n.allDay,t.className=n.className,t.editable=n.editable,t.color=n.color,t.backgroudColor=n.backgroudColor,t.borderColor=n.borderColor,t.textColor=n.textColor,c(t));c(n),a(e)}function vt(n,t){c(n),n.source||(t&&(y.events.push(n),n.source=y),e.push(n)),a(e)}function yt(t){var r,i;if(t)for(n.isFunction(t)||(r=t+"",t=function(n){return n._id==r}),e=n.grep(e,t,!0),i=0;s.length>i;i++)n.isArray(s[i].events)&&(s[i].events=n.grep(s[i].events,t,!0));else for(e=[],i=0;s.length>i;i++)n.isArray(s[i].events)&&(s[i].events=[]);a(e)}function pt(t){return n.isFunction(t)?n.grep(e,t):t?(t+="",n.grep(e,function(n){return n._id==t})):e}function tt(){ot++||et("loading",null,!0)}function it(){--ot||et("loading",null,!1)}function c(n){var u=n.source||{},f=b(u.ignoreTimezone,r.ignoreTimezone);n._id=n._id||(n.id===t?"_fc"+yi++:n.id+""),n.date&&(n.start||(n.start=n.date),delete n.date),n._start=i(n.start=ut(n.start,f)),n.end=ut(n.end,f),n.end&&n.end<=n.start&&(n.end=null),n._end=n.end?i(n.end):null,n.allDay===t&&(n.allDay=b(u.allDayDefault,r.allDayDefault)),n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[]}function wt(n){n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[];for(var i=f.sourceNormalizers,t=0;i.length>t;t++)i[t](n)}function rt(n,t){return n&&t&&ft(n)==ft(t)}function ft(n){return("object"==typeof n?n.events||n.url:"")||n}var o=this;o.isFetchNeeded=st,o.fetchEvents=ht,o.addEventSource=ct,o.removeEventSource=lt,o.updateEvent=at,o.renderEvent=vt,o.removeEvents=yt,o.clientEvents=pt,o.normalizeEvent=c;for(var h,l,et=o.trigger,bt=o.getView,a=o.reportEvents,y={events:[]},s=[y],p=0,v=0,ot=0,e=[],w=0;u.length>w;w++)nt(u[w])}function tt(n,t,i){return n.setFullYear(n.getFullYear()+t),i||s(n),n}function it(n,t,r){if(+n){var f=n.getMonth()+t,u=i(n);for(u.setDate(1),u.setMonth(f),n.setMonth(f),r||s(n);n.getMonth()!=u.getMonth();)n.setDate(n.getDate()+(u>n?1:-1))}return n}function r(n,t,r){if(+n){var f=n.getDate()+t,u=i(n);u.setHours(9),u.setDate(f),n.setDate(f),r||s(n),rt(n,u)}return n}function rt(n,t){if(+n)for(;n.getDate()!=t.getDate();)n.setTime(+n+(t>n?1:-1)*kr)}function u(n,t){return n.setMinutes(n.getMinutes()+t),n}function s(n){return n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n}function i(n,t){return t?s(new Date(+n)):new Date(+n)}function pt(){var n,t=0;do n=new Date(1970,t++,1);while(n.getHours());return n}function o(n,t,i){for(t=t||1;!n.getDay()||i&&1==n.getDay()||!i&&6==n.getDay();)r(n,t);return n}function e(n,t){return Math.round((i(n,!0)-i(t,!0))/pi)}function wt(n,i,r,u){i!==t&&i!=n.getFullYear()&&(n.setDate(1),n.setMonth(0),n.setFullYear(i)),r!==t&&r!=n.getMonth()&&(n.setDate(1),n.setMonth(r)),u!==t&&n.setDate(u)}function ut(n,i){return"object"==typeof n?n:"number"==typeof n?new Date(1e3*n):"string"==typeof n?n.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(n)):(i===t&&(i=!0),ft(n,i)||(n?new Date(n):null)):null}function ft(n,t){var i=n.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/),r,u,f;return i?(r=new Date(i[1],0,1),t||!i[13]?(u=new Date(i[1],0,1,9,0),i[3]&&(r.setMonth(i[3]-1),u.setMonth(i[3]-1)),i[5]&&(r.setDate(i[5]),u.setDate(i[5])),rt(r,u),i[7]&&r.setHours(i[7]),i[8]&&r.setMinutes(i[8]),i[10]&&r.setSeconds(i[10]),i[12]&&r.setMilliseconds(1e3*Number("0."+i[12])),rt(r,u)):(r.setUTCFullYear(i[1],i[3]?i[3]-1:0,i[5]||1),r.setUTCHours(i[7]||0,i[8]||0,i[10]||0,i[12]?1e3*Number("0."+i[12]):0),i[14])&&(f=60*Number(i[16])+(i[18]?Number(i[18]):0),f*="-"==i[15]?1:-1,r=new Date(+r+6e4*f)),r):null}function et(n){var t,i;return"number"==typeof n?60*n:"object"==typeof n?60*n.getHours()+n.getMinutes():(t=n.match(/(\d+)(?::(\d+))?\s*(\w+)?/),t?(i=parseInt(t[1],10),t[3]&&(i%=12,"p"==t[3].toLowerCase().charAt(0)&&(i+=12)),60*i+(t[2]?parseInt(t[2],10):0)):void 0)}function c(n,t,i){return ot(n,null,t,i)}function ot(n,t,i,r){var v,s;r=r||nt;for(var o,u,y,e=n,a=t,l=i.length,h="",f=0;l>f;f++)if(o=i.charAt(f),"'"==o){for(u=f+1;l>u;u++)if("'"==i.charAt(u)){e&&(h+=u==f+1?"'":i.substring(f+1,u),f=u);break}}else if("("==o){for(u=f+1;l>u;u++)if(")"==i.charAt(u)){s=c(e,i.substring(f+1,u),r),parseInt(s.replace(/\D/,""),10)&&(h+=s),f=u;break}}else if("["==o){for(u=f+1;l>u;u++)if("]"==i.charAt(u)){v=i.substring(f+1,u),s=c(e,v,r),s!=c(a,v,r)&&(h+=s),f=u;break}}else if("{"==o)e=t,a=n;else if("}"==o)e=n,a=t;else{for(u=l;u>f;u--)if(y=wi[i.substring(f,u)]){e&&(h+=y(e,r)),f=u-1;break}u==f&&e&&(h+=o)}return h}function gi(n){var i,t=new Date(n.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1}function y(n){return n.end?nr(n.end,n.allDay):r(i(n.start),1)}function nr(n,t){return n=i(n),t||n.getHours()||n.getMinutes()?r(n,1):s(n)}function tr(n,t){return 100*(t.msLength-n.msLength)+(n.event.start-t.event.start)}function bt(n,t){return n.end>t.start&&n.start<t.end}function st(n,t,r,u){for(var c,e,o,s,h,l,a,v=[],y=n.length,f=0;y>f;f++)c=n[f],e=c.start,o=t[f],o>r&&u>e&&(r>e?(s=i(r),l=!1):(s=e,l=!0),o>u?(h=i(u),a=!1):(h=o,a=!0),v.push({event:c,start:s,end:h,isStart:l,isEnd:a,msLength:h-s}));return v.sort(tr)}function ht(n){for(var u,t,e,f,i=[],o=n.length,r=0;o>r;r++){for(u=n[r],t=0;;){if(e=!1,i[t])for(f=0;i[t].length>f;f++)if(bt(i[t][f],u)){e=!0;break}if(!e)break;t++}i[t]?i[t].push(u):i[t]=[u]}return i}function kt(i,r,u){i.unbind("mouseover").mouseover(function(i){for(var o,s,f,e=i.target;e!=this;)o=e,e=e.parentNode;(s=o._fci)!==t&&(o._fci=t,f=r[s],u(f.event,f.element,f),n(i.target).trigger(i)),i.stopPropagation()})}function p(t,i,r){for(var u,f=0;t.length>f;f++)u=n(t[f]),u.width(Math.max(0,i-ct(u,r)))}function dt(t,i,r){for(var u,f=0;t.length>f;f++)u=n(t[f]),u.height(Math.max(0,i-w(u,r)))}function ct(n,t){return ir(n)+ur(n)+(t?rr(n):0)}function ir(t){return(parseFloat(n.css(t[0],"paddingLeft",!0))||0)+(parseFloat(n.css(t[0],"paddingRight",!0))||0)}function rr(t){return(parseFloat(n.css(t[0],"marginLeft",!0))||0)+(parseFloat(n.css(t[0],"marginRight",!0))||0)}function ur(t){return(parseFloat(n.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(n.css(t[0],"borderRightWidth",!0))||0)}function w(n,t){return fr(n)+er(n)+(t?gt(n):0)}function fr(t){return(parseFloat(n.css(t[0],"paddingTop",!0))||0)+(parseFloat(n.css(t[0],"paddingBottom",!0))||0)}function gt(t){return(parseFloat(n.css(t[0],"marginTop",!0))||0)+(parseFloat(n.css(t[0],"marginBottom",!0))||0)}function er(t){return(parseFloat(n.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(n.css(t[0],"borderBottomWidth",!0))||0)}function l(n,t){t="number"==typeof t?t+"px":t,n.each(function(n,i){i.style.cssText+=";min-height:"+t+";_height:"+t})}function ni(){}function ti(n,t){return n-t}function ii(n){return Math.max.apply(Math,n)}function a(n){return(10>n?"0":"")+n}function lt(n,i){if(n[i]!==t)return n[i];for(var r,f=i.split(/(?=[A-Z])/),u=f.length-1;u>=0;u--)if(r=n[f[u].toLowerCase()],r!==t)return r;return n[""]}function v(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function ri(n){return n.id+"/"+n.className+"/"+n.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/gi,"")}function k(n){n.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function d(n){n.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function or(n,t){n.each(function(n,i){i.className=i.className.replace(/^fc-\w*/,"fc-"+vt[t.getDay()])})}function ui(n,t){var i=n.source||{},u=n.color,f=i.color,e=t("eventColor"),o=n.backgroundColor||u||i.backgroundColor||f||t("eventBackgroundColor")||e,s=n.borderColor||u||i.borderColor||f||t("eventBorderColor")||e,h=n.textColor||i.textColor||t("eventTextColor"),r=[];return o&&r.push("background-color:"+o),s&&r.push("border-color:"+s),h&&r.push("color:"+h),r.join(";")}function g(t,i,r){if(n.isFunction(t)&&(t=[t]),t){for(var f,u=0;t.length>u;u++)f=t[u].apply(i,r)||f;return f}}function b(){for(var n=0;arguments.length>n;n++)if(arguments[n]!==t)return arguments[n]}function sr(n,t){function e(n,t){var e,v;t&&(it(n,t),n.setDate(1)),e=i(n,!0),e.setDate(1);var y=it(i(e),1),l=i(e),c=i(y),p=f("firstDay"),a=f("weekends")?0:1;a&&(o(l),o(c,-1,!0)),r(l,-((l.getDay()-Math.max(p,a)+7)%7)),r(c,(7-c.getDay()+Math.max(p,a))%7),v=Math.round((c-l)/(7*pi)),"fixed"==f("weekMode")&&(r(c,7*(6-v)),v=6),u.title=h(e,f("titleFormat")),u.start=e,u.end=y,u.visStart=l,u.visEnd=c,s(v,a?5:7,!0)}var u=this;u.render=e,at.call(u,n,t,"month");var f=u.opt,s=u.renderBasic,h=t.formatDate}function hr(n,t){function e(n,t){t&&r(n,7*t);var e=r(i(n),-((n.getDay()-f("firstDay")+7)%7)),a=r(i(e),7),c=i(e),l=i(a),v=f("weekends");v||(o(c),o(l,-1,!0)),u.title=h(c,r(i(l),-1),f("titleFormat")),u.start=e,u.end=a,u.visStart=c,u.visEnd=l,s(1,v?7:5,!1)}var u=this;u.render=e,at.call(u,n,t,"basicWeek");var f=u.opt,s=u.renderBasic,h=t.formatDates}function cr(n,t){function e(n,t){t&&(r(n,t),f("weekends")||o(n,0>t?-1:1)),u.title=h(n,f("titleFormat")),u.start=u.visStart=i(n,!0),u.end=u.visEnd=r(i(u.start),1),s(1,1,!1)}var u=this;u.render=e,at.call(u,n,t,"basicDay");var f=u.opt,s=u.renderBasic,h=t.formatDate}function at(t,u,f){function gi(n,t,i){c=n,h=t,nr();var r=!rt;r?tr():gr(),ir(i)}function nr(){wt=a("isRTL"),wt?(g=-1,nt=h-1):(g=1,nt=0),pi=a("firstDay"),wi=a("weekends")?0:1,lt=a("theme")?"ui":"fc",bi=a("columnFormat"),b=a("weekNumbers"),ki=a("weekNumberTitle"),di="iso"!=a("weekNumberCalculation")?"w":"W"}function tr(){vi=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function ir(i){var u,l,f,e,r="",a=lt+"-widget-header",p=lt+"-widget-content",w=o.start.getMonth(),k=s(new Date);for(r+="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>",b&&(r+="<th class='fc-week-number "+a+"'/>"),u=0;h>u;u++)f=tt(0,u),r+="<th class='fc-day-header fc-"+vt[f.getDay()]+" "+a+"'/>";for(r+="<\/tr><\/thead><tbody>",u=0;c>u;u++){for(r+="<tr class='fc-week'>",b&&(r+="<td class='fc-week-number "+p+"'><div/><\/td>"),l=0;h>l;l++)f=tt(u,l),e=["fc-day","fc-"+vt[f.getDay()],p],f.getMonth()!=w&&e.push("fc-other-month"),+f==+k&&(e.push("fc-today"),e.push(lt+"-state-highlight")),r+="<td class='"+e.join(" ")+"' data-date='"+kt(f,"yyyy-MM-dd")+"'><div>",i&&(r+="<div class='fc-day-number'>"+f.getDate()+"<\/div>"),r+="<div class='fc-day-content'><div style='position:relative'>&nbsp;<\/div><\/div><\/div><\/td>";r+="<\/tr>"}r+="<\/tbody><\/table>",kr(),it&&it.remove(),it=n(r).appendTo(t),y=it.find("thead"),ut=y.find(".fc-day-header"),rt=it.find("tbody"),v=rt.find("tr"),et=rt.find(".fc-day"),fi=v.find("td:first-child"),oi=v.eq(0).find(".fc-day-content > div"),d(y.add(y.find("tr"))),d(v),v.eq(0).addClass("fc-first"),v.filter(":last").addClass("fc-last"),b&&y.find(".fc-week-number").text(ki),ut.each(function(t,i){var r=ri(t);n(i).text(kt(r,bi))}),b&&rt.find(".fc-week-number > div").each(function(t,i){var r=tt(t,0);n(i).text(kt(r,di))}),et.each(function(t,i){var r=ri(t);at("dayRender",o,r,n(i))}),dt(et)}function rr(t){yi=t;var i,r,u,f=yi-y.height();"variable"==a("weekMode")?i=r=Math.floor(f/(1==c?2:6)):(i=Math.floor(f/c),r=f-i*(c-1)),fi.each(function(t,f){c>t&&(u=n(f),l(u.find("> div"),(t==c-1?r:i)-w(u)))}),dr()}function ur(n){yt=n,ct.clear(),ot=0,b&&(ot=y.find("th.fc-week-number").outerWidth()),pt=Math.floor((yt-ot)/h),p(ut.slice(0,-1),pt)}function dt(n){n.click(fr).mousedown(tu)}function fr(t){if(!a("selectable")){var i=ft(n(this).data("date"));at("dayClick",this,i,!0,t)}}function gt(n,t,u){var l,a,v,y;u&&st.build();for(var f=i(o.visStart),p=r(i(f),h),s=0;c>s;s++)l=new Date(Math.max(f,n)),a=new Date(Math.min(p,t)),a>l&&(wt?(v=e(a,f)*g+nt+1,y=e(l,f)*g+nt+1):(v=e(l,f),y=e(a,f)),dt(ni(s,v,s,y-1))),r(f,7),r(p,7)}function ni(n,i,r,u){var f=st.rect(n,i,r,u,t);return nu(f,t)}function er(n){return i(n)}function or(n,t){gt(n,r(i(t),1),!0)}function sr(){bt()}function hr(n,t,i){var r=ti(n),u=et[r.row*h+r.col];at("dayClick",u,n,t,i)}function cr(n,t){ht.start(function(n){bt(),n&&ni(n.row,n.col,n.row,n.col)},t)}function ar(n,t,i){var r=ht.stop(),u;(bt(),r)&&(u=ii(r),at("drop",n,u,!0,t,i))}function vr(n){return i(n.start)}function yr(n){return ct.left(n)}function pr(n){return ct.right(n)}function ti(n){return{row:Math.floor(e(n,o.visStart)/7),col:ui(n.getDay())}}function ii(n){return tt(n.row,n.col)}function tt(n,t){return r(i(o.visStart),7*n+t*g+nt)}function ri(n){return tt(Math.floor(n/h),n%h)}function ui(n){return(n-Math.max(pi,wi)+h)%h*g+nt}function wr(n){return v.eq(n)}function br(){var n=0;return b&&(n+=ot),{left:n,right:yt}}function kr(){l(t,t.height())}function dr(){l(t,1)}var o=this;o.renderBasic=gi,o.setHeight=rr,o.setWidth=ur,o.renderDayOverlay=gt,o.defaultSelectionEnd=er,o.renderSelection=or,o.clearSelection=sr,o.reportDayClick=hr,o.dragStart=cr,o.dragStop=ar,o.defaultEventEnd=vr,o.getHoverListener=function(){return ht},o.colContentLeft=yr,o.colContentRight=pr,o.dayOfWeekCol=ui,o.dateCell=ti,o.cellDate=ii,o.cellIsAllDay=function(){return!0},o.allDayRow=wr,o.allDayBounds=br,o.getRowCnt=function(){return c},o.getColCnt=function(){return h},o.getColWidth=function(){return pt},o.getDaySegmentContainer=function(){return vi},ei.call(o,t,u,f),hi.call(o),si.call(o),lr.call(o);var it,y,ut,rt,v,et,fi,oi,vi,yt,yi,pt,ot,c,h,st,ht,ct,wt,g,nt,pi,wi,lt,bi,b,ki,di,a=o.opt,at=o.trigger,gr=o.clearEvents,nu=o.renderOverlay,bt=o.clearOverlays,tu=o.daySelectionMousedown,kt=u.formatDate;k(t.addClass("fc-grid")),st=new ci(function(t,i){var f,r,u;ut.each(function(t,e){f=n(e),r=f.offset().left,t&&(u[1]=r),u=[r],i[t]=u}),u[1]=r+f.outerWidth(),v.each(function(i,e){c>i&&(f=n(e),r=f.offset().top,i&&(u[1]=r),u=[r],t[i]=u)}),u[1]=r+f.outerHeight()}),ht=new li(st),ct=new ai(function(n){return oi.eq(n)})}function lr(){function s(n,t){p(n),ft(e(n),t),f("eventAfterAllRender")}function h(){w(),nt().empty()}function e(u){for(var h,f,c,o,s,p=rt(),w=ut(),l=i(t.visStart),a=r(i(l),w),b=n.map(u,y),v=[],e=0;p>e;e++){for(h=ht(st(u,b,l,a)),f=0;h.length>f;f++)for(c=h[f],o=0;c.length>o;o++)s=c[o],s.row=e,s.level=f,v.push(s);r(l,7),r(a,7)}return v}function c(n,t,i){a(n)&&l(n,t),i.isEnd&&v(n)&&et(n,t,i),b(n,t)}function l(n,t){var e,s=tt();t.draggable({zIndex:9,delay:50,opacity:u("dragOpacity"),revertDuration:u("dragRevertDuration"),start:function(h,c){f("eventDragStart",t,n,h,c),d(n,t),s.start(function(f,s,h,c){t.draggable("option","revert",!f||!h&&!c),o(),f?(e=7*h+c*(u("isRTL")?-1:1),it(r(i(n.start),e),r(y(n),e))):e=0},h,"drag")},stop:function(i,r){s.stop(),o(),f("eventDragStop",t,n,i,r),e?g(this,n,e,0,n.allDay,i,r):(t.css("filter",""),k(n,t))}})}var t=this;t.renderEvents=s,t.compileDaySegs=e,t.clearEvents=h,t.bindDaySeg=c,oi.call(t);var u=t.opt,f=t.trigger,a=t.isEventDraggable,v=t.isEventResizable,p=t.reportEvents,w=t.reportEventClear,b=t.eventElementHandlers,k=t.showEvents,d=t.hideEvents,g=t.eventDrop,nt=t.getDaySegmentContainer,tt=t.getHoverListener,it=t.renderDayOverlay,o=t.clearOverlays,rt=t.getRowCnt,ut=t.getColCnt,ft=t.renderDaySegs,et=t.resizableDayEvent}function ar(n,t){function e(n,t){t&&r(n,7*t);var e=r(i(n),-((n.getDay()-f("firstDay")+7)%7)),a=r(i(e),7),c=i(e),l=i(a),v=f("weekends");v||(o(c),o(l,-1,!0)),u.title=h(c,r(i(l),-1),f("titleFormat")),u.start=e,u.end=a,u.visStart=c,u.visEnd=l,s(v?7:5)}var u=this;u.render=e,fi.call(u,n,t,"agendaWeek");var f=u.opt,s=u.renderAgenda,h=t.formatDates}function vr(n,t){function e(n,t){t&&(r(n,t),f("weekends")||o(n,0>t?-1:1));var e=i(n,!0),c=r(i(e),1);u.title=h(n,f("titleFormat")),u.start=u.visStart=e,u.end=u.visEnd=c,s(1)}var u=this;u.render=e,fi.call(u,n,t,"agendaDay");var f=u.opt,s=u.renderAgenda,h=t.formatDate}function fi(f,o,h){function cu(n){a=n,lu(),ht?cf():au(),vu()}function lu(){kt=l("theme")?"ui":"fc",eu=l("weekends")?0:1,fu=l("firstDay"),(rr=l("isRTL"))?(nt=-1,tt=a-1):(nt=1,tt=0),ot=et(l("minTime")),pi=et(l("maxTime")),ou=l("columnFormat"),ur=l("weekNumbers"),fr=l("weekNumberTitle"),su="iso"!=l("weekNumberCalculation")?"w":"W",vt=l("snapMinutes")||l("slotMinutes")}function au(){var t,r,o,c,s,e=kt+"-widget-header",h=kt+"-widget-content",y=0==l("slotMinutes")%15;for(t="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr>",t+=ur?"<th class='fc-agenda-axis fc-week-number "+e+"'/>":"<th class='fc-agenda-axis "+e+"'>&nbsp;<\/th>",r=0;a>r;r++)t+="<th class='fc- fc-col"+r+" "+e+"'/>";for(t+="<th class='fc-agenda-gutter "+e+"'>&nbsp;<\/th><\/tr><\/thead><tbody><tr><th class='fc-agenda-axis "+e+"'>&nbsp;<\/th>",r=0;a>r;r++)t+="<td class='fc- fc-col"+r+" "+h+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;<\/div><\/div><\/div><\/td>";for(t+="<td class='fc-agenda-gutter "+h+"'>&nbsp;<\/td><\/tr><\/tbody><\/table>",ht=n(t).appendTo(f),ct=ht.find("thead"),ii=ct.find("th").slice(1,-1),bt=ht.find("tbody"),it=bt.find("td").slice(0,-1),dr=it.find("div.fc-day-content div"),di=it.eq(0),gr=di.find("> div"),d(ct.add(ct.find("tr"))),d(bt.add(bt.find("tr"))),lt=ct.find("th:first"),at=ht.find(".fc-agenda-gutter"),g=n("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(f),l("allDaySlot")?(gi=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(g),t="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+e+" fc-agenda-axis'>"+l("allDayText")+"<\/th><td><div class='fc-day-content'><div style='position:relative'/><\/div><\/td><th class='"+e+" fc-agenda-gutter'>&nbsp;<\/th><\/tr><\/table>",ri=n(t).appendTo(g),ui=ri.find("tr"),cr(ui.find("td")),lt=lt.add(ri.find("th:first")),at=at.add(ri.find("th.fc-agenda-gutter")),g.append("<div class='fc-agenda-divider "+e+"'><div class='fc-agenda-divider-inner'/><\/div>")):gi=n([]),v=n("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(g),b=n("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(v),nu=n("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(b),t="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",o=pt(),c=u(i(o),pi),u(o,ot),ir=0,r=0;c>o;r++)s=o.getMinutes(),t+="<tr class='fc-slot"+r+" "+(s?"fc-minor":"")+"'><th class='fc-agenda-axis "+e+"'>"+(y&&s?"&nbsp;":sr(o,l("axisFormat")))+"<\/th><td class='"+h+"'><div style='position:relative'>&nbsp;<\/div><\/td><\/tr>",u(o,l("slotMinutes")),ir++;t+="<\/tbody><\/table>",rt=n(t).appendTo(b),tu=rt.find("div:first"),bi(rt.find("td")),lt=lt.add(rt.find("th:first"))}function vu(){var n,u,i,r,f=s(new Date),t;for(ur&&(t=sr(gt(0),su),rr?t+=fr:t=fr+t,ct.find(".fc-week-number").text(t)),n=0;a>n;n++)r=gt(n),u=ii.eq(n),u.html(sr(r,ou)),i=it.eq(n),+r==+f?i.addClass(kt+"-state-highlight fc-today"):i.removeClass(kt+"-state-highlight fc-today"),or(u.add(i),r)}function yu(n,i){n===t&&(n=ru),ru=n,hr={};var r=bt.position().top,u=v.position().top,f=Math.min(n-r,rt.height()+u+1);gr.height(f-w(di)),g.css("top",r),v.height(f-u-1),nr=tu.height()+1,tr=l("slotMinutes")/vt,vi=nr/tr,i&&wu()}function pu(t){iu=t,yi.clear(),ut=0,p(lt.width("").each(function(t,i){ut=Math.max(ut,n(i).outerWidth())}),ut);var i=v[0].clientWidth;oi=v.width()-i,oi?(p(at,oi),at.show().prev().removeClass("fc-last")):at.hide().prev().addClass("fc-last"),fi=Math.floor((i-ut)/a),p(ii.slice(0,-1),fi)}function wu(){function n(){v.scrollTop(u)}var t=pt(),r=i(t),u;r.setHours(l("firstHour")),u=st(t,r)+1,n(),setTimeout(n,0)}function bu(){uu=v.scrollTop()}function ku(){v.scrollTop(uu)}function cr(n){n.click(lr).mousedown(vf)}function bi(n){n.click(lr).mousedown(of)}function lr(n){var r,f;if(!l("selectable")){var i=Math.min(a-1,Math.floor((n.pageX-ht.offset().left-ut)/fi)),t=gt(i),u=this.parentNode.className.match(/fc-slot(\d+)/);u?(r=parseInt(u[1])*l("slotMinutes"),f=Math.floor(r/60),t.setHours(f),t.setMinutes(r%60+ot),wi("dayClick",it[i],t,!1,n)):wi("dayClick",it[i],t,!0,n)}}function ar(n,t,r){r&&ft.build();var u,f,o=i(c.visStart);rr?(u=e(t,o)*nt+tt+1,f=e(n,o)*nt+tt+1):(u=e(n,o),f=e(t,o)),u=Math.max(0,u),f=Math.min(a,f),f>u&&cr(vr(0,u,0,f-1))}function vr(n,t,i,r){var u=ft.rect(n,t,i,r,g);return hu(u,g)}function pr(n,t){for(var e,o,u=i(c.visStart),h=r(i(u),1),f=0;a>f;f++){if(e=new Date(Math.max(u,n)),o=new Date(Math.min(h,t)),o>e){var l=f*nt+tt,s=ft.rect(0,l,0,l,b),v=st(u,e),y=st(u,o);s.top=v,s.height=y-v,bi(hu(s,b))}r(u,1),r(h,1)}}function du(n){return yi.left(n)}function gu(n){return yi.right(n)}function nf(n){return{row:Math.floor(e(n,c.visStart)/7),col:ki(n.getDay())}}function wt(n){var i=gt(n.col),t=n.row;return l("allDaySlot")&&t--,t>=0&&u(i,ot+t*vt),i}function gt(n){return r(i(c.visStart),n*nt+tt)}function ni(n){return l("allDaySlot")&&!n.row}function ki(n){return(n-Math.max(fu,eu)+a)%a*nt+tt}function st(n,r){if(n=i(n,!0),u(i(n),ot)>r)return 0;if(r>=u(i(n),pi))return rt.height();var f=l("slotMinutes"),s=60*r.getHours()+r.getMinutes()-ot,e=Math.floor(s/f),o=hr[e];return o===t&&(o=hr[e]=rt.find("tr:eq("+e+") td div")[0].offsetTop),Math.max(0,Math.round(o-1+nr*(s%f/f)))}function tf(){return{left:ut,right:iu-oi}}function rf(){return ui}function uf(n){var t=i(n.start);return n.allDay?t:u(t,l("defaultEventMinutes"))}function ff(n,t){return t?i(n):u(i(n),l("slotMinutes"))}function ef(n,t,u){u?l("allDaySlot")&&ar(n,r(i(t),1),!0):wr(n,t)}function wr(t,i){var f=l("selectHelper"),u,s;if(ft.build(),f){if(u=e(t,c.visStart)*nt+tt,u>=0&&a>u){var r=ft.rect(0,u,0,u,b),o=st(t,t),h=st(t,i);h>o&&((r.top=o,r.height=h-o,r.left+=2,r.width-=5,n.isFunction(f))?(s=f(t,i),s&&(r.position="absolute",r.zIndex=8,y=n(s).css(r).appendTo(b))):(r.isStart=!0,r.isEnd=!0,y=n(yf({title:"",start:t,end:i,className:["fc-select-helper"],editable:!1},r)),y.css("opacity",l("dragOpacity"))),y&&(bi(y),b.append(y),p(y,r.width,!0),dt(y,r.height,!0)))}}else pr(t,i)}function br(){er(),y&&(y.remove(),y=null)}function of(t){if(1==t.which&&l("selectable")){af(t);var r;yt.start(function(n,t){if(br(),n&&n.col==t.col&&!ni(n)){var f=wt(t),e=wt(n);r=[f,u(i(f),vt),e,u(i(e),vt)].sort(ti),wr(r[0],r[3])}else r=null},t),n(document).one("mouseup",function(n){yt.stop(),r&&(+r[0]==+r[1]&&kr(r[0],!1,n),lf(r[0],r[3],!1,n))})}}function kr(n,t,i){wi("dayClick",it[ki(n.getDay())],n,t,i)}function sf(n,t){yt.start(function(n){if(er(),n)if(ni(n))vr(n.row,n.col,n.row,n.col);else{var t=wt(n),r=u(i(t),l("defaultEventMinutes"));pr(t,r)}},t)}function hf(n,t,i){var r=yt.stop();er(),r&&wi("drop",n,wt(r),ni(r),t,i)}var c=this;c.renderAgenda=cu,c.setWidth=pu,c.setHeight=yu,c.beforeHide=bu,c.afterShow=ku,c.defaultEventEnd=uf,c.timePosition=st,c.dayOfWeekCol=ki,c.dateCell=nf,c.cellDate=wt,c.cellIsAllDay=ni,c.allDayRow=rf,c.allDayBounds=tf,c.getHoverListener=function(){return yt},c.colContentLeft=du,c.colContentRight=gu,c.getDaySegmentContainer=function(){return gi},c.getSlotSegmentContainer=function(){return nu},c.getMinMinute=function(){return ot},c.getMaxMinute=function(){return pi},c.getBodyContent=function(){return b},c.getRowCnt=function(){return 1},c.getColCnt=function(){return a},c.getColWidth=function(){return fi},c.getSnapHeight=function(){return vi},c.getSnapMinutes=function(){return vt},c.defaultSelectionEnd=ff,c.renderDayOverlay=ar,c.renderSelection=ef,c.clearSelection=br,c.reportDayClick=kr,c.dragStart=sf,c.dragStop=hf,ei.call(c,f,o,h),hi.call(c),si.call(c),yr.call(c);var ht,ct,ii,bt,it,dr,di,gr,g,gi,ri,ui,v,b,nu,rt,tu,lt,at,y,iu,ru,ut,fi,oi,nr,vt,tr,vi,a,ir,ft,yt,yi,uu,kt,fu,eu,rr,nt,tt,ot,pi,ou,ur,fr,su,l=c.opt,wi=c.trigger,cf=c.clearEvents,hu=c.renderOverlay,er=c.clearOverlays,lf=c.reportSelection,af=c.unselect,vf=c.daySelectionMousedown,yf=c.slotSegHtml,sr=o.formatDate,hr={};k(f.addClass("fc-agenda")),ft=new ci(function(t,i){function o(n){return Math.max(h,Math.min(c,n))}var u,r,f;ii.each(function(t,e){u=n(e),r=u.offset().left,t&&(f[1]=r),f=[r],i[t]=f}),f[1]=r+u.outerWidth(),l("allDaySlot")&&(u=ui,r=u.offset().top,t[0]=[r,r+u.outerHeight()]);for(var s=b.offset().top,h=v.offset().top,c=h+v.outerHeight(),e=0;ir*tr>e;e++)t.push([o(s+vi*e),o(s+vi*(e+1))])}),yt=new li(ft),yi=new ai(function(n){return dr.eq(n)})}function yr(){function yt(n,t){si(n);for(var f=n.length,r=[],u=[],i=0;f>i;i++)n[i].allDay?r.push(n[i]):u.push(n[i]);e("allDaySlot")&&(pi(g(r),t),ci()),gt(wt(u),t),o("eventAfterAllRender")}function pt(){hi(),li().empty(),rt().empty()}function g(t){for(var e,r,u,o=ht(st(t,n.map(t,y),f.visStart,f.visEnd)),h=o.length,s=[],i=0;h>i;i++)for(e=o[i],r=0;e.length>r;r++)u=e[r],u.row=0,u.level=i,s.push(u);return s}function wt(t){for(var s,e,a,h,c,w=l(),y=ft(),b=ai(),v=u(i(f.visStart),y),k=n.map(t,bt),p=[],o=0;w>o;o++){for(s=ht(st(t,k,v,u(i(v),b-y))),pr(s),e=0;s.length>e;e++)for(a=s[e],h=0;a.length>h;h++)c=a[h],c.col=o,c.level=e,p.push(c);r(v,1,!0)}return p}function bt(n){return n.end?i(n.end):u(i(n.start),e("defaultEventMinutes"))}function gt(i,r){var s,u,h,ut,at,ft,v,y,ot,c,st,vt,yt,f,p,k,a,ht,lt,pt,b,d,g=i.length,wt="",bt={},dt={},it=rt(),gt=l();for((pt=e("isRTL"))?(b=-1,d=gt-1):(b=1,d=0),s=0;g>s;s++)u=i[s],h=u.event,ut=et(u.start,u.start),at=et(u.start,u.end),ft=u.col,v=u.level,y=u.forward||0,ot=vi(ft*b+d),c=yi(ft*b+d)-ot,c=Math.min(c-6,.95*c),st=v?c/(v+y+1):y?2*(c/(y+1)-6):c,vt=ot+c/(v+y+1)*v*b+(pt?c-st:0),u.top=ut,u.left=vt,u.outerWidth=st,u.outerHeight=at-ut,wt+=nt(h,u);for(it[0].innerHTML=wt,yt=it.children(),s=0;g>s;s++)u=i[s],h=u.event,f=n(yt[s]),p=o("eventRender",h,h,f),p===!1?f.remove():(p&&p!==!0&&(f.remove(),f=n(p).css({position:"absolute",top:u.top,left:u.left}).appendTo(it)),u.element=f,h._id===r?tt(h,f,u):f[0]._fci=s,ki(h,f));for(kt(it,i,tt),s=0;g>s;s++)u=i[s],(f=u.element)&&(a=bt[k=u.key=ri(f[0])],u.vsides=a===t?bt[k]=w(f,!0):a,a=dt[k],u.hsides=a===t?dt[k]=ct(f,!0):a,ht=f.find(".fc-event-title"),ht.length&&(u.contentTop=ht[0].offsetTop));for(s=0;g>s;s++)u=i[s],(f=u.element)&&(f[0].style.width=Math.max(0,u.outerWidth-u.hsides)+"px",lt=Math.max(0,u.outerHeight-u.vsides),f[0].style.height=lt+"px",h=u.event,u.contentTop!==t&&10>lt-u.contentTop&&(f.find("div.fc-event-time").text(gi(h.start,e("timeFormat"))+" - "+h.title),f.find("div.fc-event-title").remove()),o("eventAfterRender",h,h,f))}function nt(n,t){var r="<",u=n.url,f=ui(n,e),i=["fc-event","fc-event-vert"];return h(n)&&i.push("fc-event-draggable"),t.isStart&&i.push("fc-event-start"),t.isEnd&&i.push("fc-event-end"),i=i.concat(n.className),n.source&&(i=i.concat(n.source.className||[])),r+=u?"a href='"+v(n.url)+"'":"div",r+=" class='"+i.join(" ")+"' style='position:absolute;z-index:8;top:"+t.top+"px;left:"+t.left+"px;"+f+"'><div class='fc-event-inner'><div class='fc-event-time'>"+v(d(n.start,n.end,e("timeFormat")))+"<\/div><div class='fc-event-title'>"+v(n.title)+"<\/div><\/div><div class='fc-event-bg'><\/div>",t.isEnd&&c(n)&&(r+="<div class='ui-resizable-handle ui-resizable-s'>=<\/div>"),r+="<\/"+(u?"a":"div")+">"}function ni(n,t,i){h(n)&&ti(n,t,i.isStart),i.isEnd&&c(n)&&wi(n,t,i),it(n,t)}function tt(n,t,i){var r=t.find("div.fc-event-time");h(n)&&ii(n,t,r),i.isEnd&&c(n)&&fi(n,t,r),it(n,t)}function ti(n,t,u){function l(){h||(t.width(v).height("").draggable("option","grid",null),h=!0)}var v,f,c,h=!0,tt=e("isRTL")?-1:1,w=ut(),d=ot(),g=a(),nt=p(),it=ft();t.draggable({zIndex:9,opacity:e("dragOpacity","month"),revertDuration:e("dragRevertDuration"),start:function(a,p){o("eventDragStart",t,n,a,p),k(n,t),v=t.width(),w.start(function(o,a,v,p){s(),o?(f=!1,c=p*tt,o.row?u?h&&(t.width(d-10),dt(t,g*Math.round((n.end?(n.end-n.start)/dr:e("defaultEventMinutes"))/nt)),t.draggable("option","grid",[d,1]),h=!1):f=!0:(at(r(i(n.start),c),r(y(n),c)),l()),f=f||h&&!c):(l(),f=!0),t.draggable("option","revert",f)},a,"drag")},stop:function(i,r){if(w.stop(),s(),o("eventDragStop",t,n,i,r),f)l(),t.css("filter",""),b(n,t);else{var u=0;h||(u=Math.round((t.offset().top-bi().offset().top)/g)*nt+it-(60*n.start.getHours()+n.start.getMinutes())),lt(this,n,c,u,h,i,r)}}})}function ii(n,t,f){function tt(t){var r,o=u(i(n.start),t);n.end&&(r=u(i(n.end),t)),f.text(d(o,r,e("timeFormat")))}function it(){h&&(f.css("display",""),t.draggable("option","grid",[ft,nt]),h=!1)}var w,v,c,g,h=!1,et=e("isRTL")?-1:1,rt=ut(),st=l(),ft=ot(),nt=a(),ht=p();t.draggable({zIndex:9,scroll:!1,grid:[ft,nt],axis:1==st?"y":!1,opacity:e("dragOpacity"),revertDuration:e("dragRevertDuration"),start:function(u,l){o("eventDragStart",t,n,u,l),k(n,t),w=t.position(),c=g=0,rt.start(function(u,o,c,l){t.draggable("option","revert",!u),s(),u&&(v=l*et,e("allDaySlot")&&!u.row?(h||(h=!0,f.hide(),t.draggable("option","grid",null)),at(r(i(n.start),v),r(y(n),v))):it())},u,"drag")},drag:function(n,t){c=Math.round((t.position.top-w.top)/nt)*ht,c!=g&&(h||tt(c),g=c)},stop:function(i,r){var u=rt.stop();s(),o("eventDragStop",t,n,i,r),u&&(v||c||h)?lt(this,n,v,h?0:c,h,i,r):(it(),t.css("filter",""),t.css(w),tt(0),b(n,t))}})}function fi(n,t,i){var r,f,s=a(),h=p();t.resizable({handles:{s:".ui-resizable-handle"},grid:s,start:function(i,u){r=f=0,k(n,t),t.css("z-index",9),o("eventResizeStart",this,n,i,u)},resize:function(o,c){r=Math.round((Math.max(s,t.height())-c.originalSize.height)/s),r!=f&&(i.text(d(n.start,r||n.end?u(ei(n),h*r):null,e("timeFormat"))),f=r)},stop:function(i,u){o("eventResizeStop",this,n,i,u),r?di(this,n,0,h*r,i,u):(t.css("z-index",8),b(n,t))}})}var f=this;f.renderEvents=yt,f.compileDaySegs=g,f.clearEvents=pt,f.slotSegHtml=nt,f.bindDaySeg=ni,oi.call(f);var e=f.opt,o=f.trigger,h=f.isEventDraggable,c=f.isEventResizable,ei=f.eventEnd,si=f.reportEvents,hi=f.reportEventClear,it=f.eventElementHandlers,ci=f.setHeight,li=f.getDaySegmentContainer,rt=f.getSlotSegmentContainer,ut=f.getHoverListener,ai=f.getMaxMinute,ft=f.getMinMinute,et=f.timePosition,vi=f.colContentLeft,yi=f.colContentRight,pi=f.renderDaySegs,wi=f.resizableDayEvent,l=f.getColCnt,ot=f.getColWidth,a=f.getSnapHeight,p=f.getSnapMinutes,bi=f.getBodyContent,ki=f.reportEventElement,b=f.showEvents,k=f.hideEvents,lt=f.eventDrop,di=f.eventResize,at=f.renderDayOverlay,s=f.clearOverlays,vt=f.calendar,gi=vt.formatDate,d=vt.formatDates}function pr(n){for(var i,r,f,e,u,t=n.length-1;t>0;t--)for(f=n[t],i=0;f.length>i;i++)for(e=f[i],r=0;n[t-1].length>r;r++)u=n[t-1][r],bt(e,u)&&(u.forward=Math.max(u.forward||0,(e.forward||0)+1))}function ei(n,f,e){function l(n,t){var i=v[n];return"object"==typeof i?lt(i,t||e):i}function h(n,t){return f.trigger.apply(f,[n,t||o].concat(Array.prototype.slice.call(arguments,2),[o]))}function tt(n){return y(n)&&!l("disableDragging")}function it(n){return y(n)&&!l("disableResizing")}function y(n){return b(n.editable,(n.source||{}).editable,l("editable"))}function rt(n){s={};for(var t,r=n.length,i=0;r>i;i++)t=n[i],s[t._id]?s[t._id].push(t):s[t._id]=[t]}function p(n){return n.end?i(n.end):at(n)}function ut(n,t){nt.push(t),c[n._id]?c[n._id].push(t):c[n._id]=[t]}function ft(){nt=[],c={}}function et(n,i){i.click(function(r){return i.hasClass("ui-draggable-dragging")||i.hasClass("ui-resizable-resizing")?t:h("eventClick",this,n,r)}).hover(function(t){h("eventMouseover",this,n,t)},function(t){h("eventMouseout",this,n,t)})}function ot(n,t){w(n,t,"show")}function st(n,t){w(n,t,"hide")}function w(n,t,i){for(var u=c[n._id],f=u.length,r=0;f>r;r++)t&&u[r][0]==t[0]||u[r][i]()}function ht(n,t,i,r,u,f,e){var c=t.allDay,o=t._id;k(s[o],i,r,u),h("eventDrop",n,t,i,r,u,function(){k(s[o],-i,-r,c),a(o)},f,e),a(o)}function ct(n,t,i,r,u,f){var e=t._id;d(s[e],i,r),h("eventResize",n,t,i,r,function(){d(s[e],-i,-r),a(e)},u,f),a(e)}function k(n,i,f,e){f=f||0;for(var o,h=n.length,s=0;h>s;s++)o=n[s],e!==t&&(o.allDay=e),u(r(o.start,i,!0),f),o.end&&(o.end=u(r(o.end,i,!0),f)),g(o,v)}function d(n,t,i){i=i||0;for(var f,o=n.length,e=0;o>e;e++)f=n[e],f.end=u(r(p(f),t,!0),i),g(f,v)}var o=this;o.element=n,o.calendar=f,o.name=e,o.opt=l,o.trigger=h,o.isEventDraggable=tt,o.isEventResizable=it,o.reportEvents=rt,o.eventEnd=p,o.reportEventElement=ut,o.reportEventClear=ft,o.eventElementHandlers=et,o.showEvents=ot,o.hideEvents=st,o.eventDrop=ht,o.eventResize=ct;var at=o.defaultEventEnd,g=f.normalizeEvent,a=f.reportEventChange,s={},nt=[],c={},v=f.options}function oi(){function ut(n,t){var v,r,nt,u,f,i,e,o,k=tt(),it=s(),rt=d(),g=0,ut=n.length;for(k[0].innerHTML=h(n),c(n,k.children()),et(n),ot(n,k,t),l(n),a(n),y(n),v=p(),r=0;it>r;r++){for(nt=0,u=[],f=0;rt>f;f++)u[f]=0;for(;ut>g&&(i=n[g]).row==r;){for(e=ii(u.slice(i.startCol,i.endCol)),i.top=e,e+=i.outerHeight,o=i.startCol;i.endCol>o;o++)u[o]=e;g++}v[r].height(ii(u))}b(n,w(v))}function ft(t,i,r){var u,f,e,o=n("<div/>"),s=tt(),v=t.length;for(o[0].innerHTML=h(t),u=o.children(),s.append(u),c(t,u),l(t),a(t),y(t),b(t,w(p())),u=[],f=0;v>f;f++)e=t[f].element,e&&(t[f].row===i&&e.css("top",r),u.push(e[0]));return n(u)}function h(n){for(var t,i,l,r,e,s,h,a,y,p=f("isRTL"),d=n.length,w=dt(),b=w.left,k=w.right,u="",c=0;d>c;c++)t=n[c],i=t.event,r=["fc-event","fc-event-hori"],ht(i)&&r.push("fc-event-draggable"),t.isStart&&r.push("fc-event-start"),t.isEnd&&r.push("fc-event-end"),p?(e=o(t.end.getDay()-1),s=o(t.start.getDay()),h=t.isEnd?g(e):b,a=t.isStart?nt(s):k):(e=o(t.start.getDay()),s=o(t.end.getDay()-1),h=t.isStart?g(e):b,a=t.isEnd?nt(s):k),r=r.concat(i.className),i.source&&(r=r.concat(i.source.className||[])),l=i.url,y=ui(i,f),u+=l?"<a href='"+v(l)+"'":"<div",u+=" class='"+r.join(" ")+"' style='position:absolute;z-index:8;left:"+h+"px;"+y+"'><div class='fc-event-inner'>",!i.allDay&&t.isStart&&(u+="<span class='fc-event-time'>"+v(fi(i.start,i.end,f("timeFormat")))+"<\/span>"),u+="<span class='fc-event-title'>"+v(i.title)+"<\/span><\/div>",t.isEnd&&lt(i)&&(u+="<div class='ui-resizable-handle ui-resizable-"+(p?"w":"e")+"'>&nbsp;&nbsp;&nbsp;<\/div>"),u+="<\/"+(l?"a":"div")+">",t.left=h,t.outerWidth=a-h,t.startCol=e,t.endCol=s+1;return u}function c(t,i){for(var o,s,u,r,h=t.length,f=0;h>f;f++)o=t[f],s=o.event,u=n(i[f]),r=e("eventRender",s,s,u),r===!1?u.remove():(r&&r!==!0&&(r=n(r).css({position:"absolute",left:o.left}),u.replaceWith(r),u=r),o.element=u)}function et(n){for(var i,r,u=n.length,t=0;u>t;t++)i=n[t],r=i.element,r&&vt(i.event,r)}function ot(n,t,i){for(var u,f,e,o=n.length,r=0;o>r;r++)u=n[r],f=u.element,f&&(e=u.event,e._id===i?it(e,f,u):f[0]._fci=r);kt(t,n,it)}function l(n){for(var r,u,e,f,s=n.length,o={},i=0;s>i;i++)r=n[i],u=r.element,u&&(e=r.key=ri(u[0]),f=o[e],f===t&&(f=o[e]=ct(u,!0)),r.hsides=f)}function a(n){for(var i,r,u=n.length,t=0;u>t;t++)i=n[t],r=i.element,r&&(r[0].style.width=Math.max(0,i.outerWidth-i.hsides)+"px")}function y(n){for(var r,u,e,f,s=n.length,o={},i=0;s>i;i++)r=n[i],u=r.element,u&&(e=r.key,f=o[e],f===t&&(f=o[e]=gt(u)),r.outerHeight=u[0].offsetHeight+f)}function p(){for(var i=s(),t=[],n=0;i>n;n++)t[n]=bt(n).find("div.fc-day-content > div");return t}function w(n){for(var r=n.length,i=[],t=0;r>t;t++)i[t]=n[t][0].offsetTop;return i}function b(n,t){for(var i,u,f,o=n.length,r=0;o>r;r++)i=n[r],u=i.element,u&&(u[0].style.top=t[i.row]+(i.top||0)+"px",f=i.event,e("eventAfterRender",f,f,u))}function st(t,o,h){var c=f("isRTL"),l=c?"w":"e",v=o.find(".ui-resizable-"+l),a=!1;k(o),o.mousedown(function(n){n.preventDefault()}).click(function(n){a&&(n.preventDefault(),n.stopImmediatePropagation())}),v.mousedown(function(f){function nt(i){e("eventResizeStop",this,t,i),n("body").css("cursor",""),w.stop(),rt(),y&&wt(this,t,y,0,i),setTimeout(function(){a=!1},0)}if(1==f.which){a=!0;var y,v,w=u.getHoverListener(),tt=s(),it=d(),b=c?-1:1,k=c?it-1:0,ut=o.css("top"),g=n.extend({},t),p=ni(t.start);oi(),n("body").css("cursor",l+"-resize").one("mouseup",nt),e("eventResizeStart",this,t,f),w.start(function(n,u){var e,f,o,s;n&&(e=Math.max(p.row,n.row),f=n.col,1==tt&&(e=0),e==p.row&&(f=c?Math.min(p.col,f):Math.max(p.col,f)),y=7*e+f*b+k-(7*u.row+u.col*b+k),o=r(at(t),y,!0),y?(g.end=o,s=v,v=ft(ti([g]),h.row,ut),v.find("*").css("cursor",l+"-resize"),s&&s.remove(),pt(t)):v&&(yt(t),v.remove(),v=null),rt(),ei(t.start,r(i(o),1)))},f)}})}var u=this;u.renderDaySegs=ut,u.resizableDayEvent=st;var f=u.opt,e=u.trigger,ht=u.isEventDraggable,lt=u.isEventResizable,at=u.eventEnd,vt=u.reportEventElement,yt=u.showEvents,pt=u.hideEvents,wt=u.eventResize,s=u.getRowCnt,d=u.getColCnt;u.getColWidth;var bt=u.allDayRow,dt=u.allDayBounds,g=u.colContentLeft,nt=u.colContentRight,o=u.dayOfWeekCol,ni=u.dateCell,ti=u.compileDaySegs,tt=u.getDaySegmentContainer,it=u.bindDaySeg,fi=u.calendar.formatDates,ei=u.renderDayOverlay,rt=u.clearOverlays,oi=u.clearSelection}function si(){function h(n,t,r){i(),t||(t=l(n,r)),o(n,t,r),u(n,t,r)}function i(n){f&&(f=!1,s(),e("unselect",null,n))}function u(n,t,i,r){f=!0,e("select",null,n,t,i,r)}function c(f){var h=t.cellDate,l=t.cellIsAllDay,c=t.getHoverListener(),a=t.reportDayClick,e;1==f.which&&r("selectable")&&(i(f),c.start(function(n,t){s(),n&&l(n)?(e=[h(t),h(n)].sort(ti),o(e[0],e[1],!0)):e=null},f),n(document).one("mouseup",function(n){c.stop(),e&&(+e[0]==+e[1]&&a(e[0],!0,n),u(e[0],e[1],!0,n))}))}var t=this;t.select=h,t.unselect=i,t.reportSelection=u,t.daySelectionMousedown=c;var r=t.opt,e=t.trigger,l=t.defaultSelectionEnd,o=t.renderSelection,s=t.clearSelection,f=!1;r("selectable")&&r("unselectAuto")&&n(document).mousedown(function(t){var u=r("unselectCancel");u&&n(t.target).parents(u).length||i(t)})}function hi(){function u(r,u){var f=i.shift();return f||(f=n("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),f[0].parentNode!=u[0]&&f.appendTo(u),t.push(f.css(r).show()),f}function f(){for(var n;n=t.shift();)i.push(n.hide().unbind())}var r=this,t,i;r.renderOverlay=u,r.clearOverlays=f,t=[],i=[]}function ci(n){var t,i,r=this;r.build=function(){t=[],i=[],n(t,i)},r.cell=function(n,r){for(var o=t.length,s=i.length,f=-1,e=-1,u=0;o>u;u++)if(r>=t[u][0]&&t[u][1]>r){f=u;break}for(u=0;s>u;u++)if(n>=i[u][0]&&i[u][1]>n){e=u;break}return f>=0&&e>=0?{row:f,col:e}:null},r.rect=function(n,r,u,f,e){var o=e.offset();return{top:t[n][0]-o.top,left:i[r][0]-o.left,width:i[f][1]-i[r][0],height:t[u][1]-t[n][0]}}}function li(t){function u(n){wr(n);var u=t.cell(n.pageX,n.pageY);(!u!=!r||u&&(u.row!=r.row||u.col!=r.col))&&(u?(i||(i=u),e(u,i,u.row-i.row,u.col-i.col)):e(u,i),r=u)}var f,e,i,r,o=this;o.start=function(o,s,h){e=o,i=r=null,t.build(),u(s),f=h||"mousemove",n(document).bind(f,u)},o.stop=function(){return n(document).unbind(f,u),r}}function wr(n){n.pageX===t&&(n.pageX=n.originalEvent.pageX,n.pageY=n.originalEvent.pageY)}function ai(n){function e(t){return f[t]=f[t]||n(t)}var i=this,f={},r={},u={};i.left=function(n){return r[n]=r[n]===t?e(n).position().left:r[n]},i.right=function(n){return u[n]=u[n]===t?i.left(n)+e(n).width():u[n]},i.clear=function(){f={},r={},u={}}}var nt={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;<\/span>",next:"<span class='fc-text-arrow'>&rsaquo;<\/span>",prevYear:"<span class='fc-text-arrow'>&laquo;<\/span>",nextYear:"<span class='fc-text-arrow'>&raquo;<\/span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},br={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;<\/span>",next:"<span class='fc-text-arrow'>&lsaquo;<\/span>",prevYear:"<span class='fc-text-arrow'>&raquo;<\/span>",nextYear:"<span class='fc-text-arrow'>&laquo;<\/span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},f=n.fullCalendar={version:"1.6.1"},h=f.views={},vi,yi;n.fn.fullCalendar=function(i){var r,f,u;return"string"==typeof i?(f=Array.prototype.slice.call(arguments,1),this.each(function(){var u=n.data(this,"fullCalendar"),e;u&&n.isFunction(u[i])&&(e=u[i].apply(u,f),r===t&&(r=e),"destroy"==i&&n.removeData(this,"fullCalendar"))}),r!==t?r:this):(u=i.eventSources||[],delete i.eventSources,i.events&&(u.push(i.events),delete i.events),i=n.extend(!0,{},nt,i.isRTL||i.isRTL===t&&nt.isRTL?br:{},i),this.each(function(t,r){var f=n(r),e=new bi(f,i,u);f.data("fullCalendar",e),e.render()}),this)},f.sourceNormalizers=[],f.sourceFetchers=[],vi={dataType:"json",cache:!1},yi=1,f.addDays=r,f.cloneDate=i,f.parseDate=ut,f.parseISO8601=ft,f.parseTime=et,f.formatDate=c,f.formatDates=ot;var vt=["sun","mon","tue","wed","thu","fri","sat"],pi=864e5,kr=36e5,dr=6e4,wi={s:function(n){return n.getSeconds()},ss:function(n){return a(n.getSeconds())},m:function(n){return n.getMinutes()},mm:function(n){return a(n.getMinutes())},h:function(n){return n.getHours()%12||12},hh:function(n){return a(n.getHours()%12||12)},H:function(n){return n.getHours()},HH:function(n){return a(n.getHours())},d:function(n){return n.getDate()},dd:function(n){return a(n.getDate())},ddd:function(n,t){return t.dayNamesShort[n.getDay()]},dddd:function(n,t){return t.dayNames[n.getDay()]},M:function(n){return n.getMonth()+1},MM:function(n){return a(n.getMonth()+1)},MMM:function(n,t){return t.monthNamesShort[n.getMonth()]},MMMM:function(n,t){return t.monthNames[n.getMonth()]},yy:function(n){return(n.getFullYear()+"").substring(2)},yyyy:function(n){return n.getFullYear()},t:function(n){return 12>n.getHours()?"a":"p"},tt:function(n){return 12>n.getHours()?"am":"pm"},T:function(n){return 12>n.getHours()?"A":"P"},TT:function(n){return 12>n.getHours()?"AM":"PM"},u:function(n){return c(n,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(n){var t=n.getDate();return t>10&&20>t?"th":["st","nd","rd"][t%10-1]||"th"},w:function(n,t){return t.weekNumberCalculation(n)},W:function(n){return gi(n)}};f.dateFormatters=wi,f.applyAll=g,h.month=sr,h.basicWeek=hr,h.basicDay=cr,yt({weekMode:"fixed"}),h.agendaWeek=ar,h.agendaDay=vr,yt({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})})(jQuery);
//@ sourceMappingURL=fullcalendar.min.js.map